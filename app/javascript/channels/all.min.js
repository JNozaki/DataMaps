window.nmcSlider=function(e){var t=this;this.$slider="object"==typeof e?e:document.querySelector(e),this.currentCache=this.getCurrent(),this.registeredButtons=[],this.interval=!1,this.$slider.addEventListener("scroll",(function(e){t.currentCache!=t.getCurrent()&&t.onChange()})),this.$slider.addEventListener("nmcSliderDispatch",(function(e){console.log(e.detail),t[e.detail.action](Number(e.detail.value))})),this.$slider.addEventListener("nmcSliderButtonRegister",(function(e){t.registeredButtons.push(e.detail.button),t._notifyButton(e.detail.button)})),this.play()},nmcSlider.prototype.getCurrent=function(){for(var e=this.$slider.scrollLeft,t=99999999,n=1,i=1;i<=this.$slider.children.length;i++){var o=Math.abs(e-this.$slider.children[i-1].offsetLeft);o<t&&(t=o,n=i)}return this.currentCache=n,n},nmcSlider.prototype.getLength=function(){return this.$slider.children.length},nmcSlider.prototype.getBehavior=function(){return void 0!==this.$slider.dataset.nmcSliderBehavior?this.$slider.dataset.nmcSliderBehavior:"smooth"},nmcSlider.prototype.shouldLoop=function(){var e=this.$slider.dataset.nmcSliderLoop,t=void 0!==e&&"false"!==e;return this.$slider.dataset.nmcSliderAuto>0||t},nmcSlider.prototype.isAtTheEnd=function(){return this.$slider.clientWidth==this.$slider.scrollWidth-this.$slider.scrollLeft},nmcSlider.prototype.autoDuration=function(){return void 0!==this.$slider.dataset.nmcSliderAuto&&this.$slider.dataset.nmcSliderAuto},nmcSlider.prototype.advance=function(e,t){void 0===t&&(t=this.getBehavior());var n=this.getLength();e<1?this.advance(1,t):e>n?this.advance(n,t):this.$slider.scroll({left:this.$slider.children[e-1].offsetLeft,behavior:t})},nmcSlider.prototype.scroll=function(e){this.pause(),this.advance(e,"smooth")},nmcSlider.prototype.slide=function(e){this.pause(),this.advance(e,"smooth")},nmcSlider.prototype.jump=function(e){this.pause(),this.advance(e,"auto")},nmcSlider.prototype._nextSlideNumber=function(e){e||(e=1);var t=this.getCurrent()+e;return(t>this.getLength()||this.isAtTheEnd())&&this.shouldLoop()&&(t=1),t},nmcSlider.prototype.next=function(e,t){!0!==t&&this.pause(),this.advance(this._nextSlideNumber(e))},nmcSlider.prototype._prevSlideNumber=function(e){e||(e=1);var t=this.getCurrent(),n=t-e;return n<1&&1==t&&this.shouldLoop()&&(n=this.getLength()),n},nmcSlider.prototype.prev=function(e){this.pause(),this.advance(this._prevSlideNumber(e))},nmcSlider.prototype.play=function(){var e=this;!1!==this.autoDuration()&&(this.interval=setInterval((function(){e.next(1,!0)}),this.autoDuration()))},nmcSlider.prototype.pause=function(){clearInterval(this.interval),this.interval=!1},nmcSlider.prototype.playpause=function(){!1===this.interrval?this.play():this.pause()},nmcSlider.prototype.onChange=function(){var e=this;this._setActiveClass(),this.registeredButtons.forEach((function(t){e._notifyButton(t)}))},nmcSlider.prototype._notifyButton=function(e){var t=this;e.dispatchEvent(new CustomEvent("nmcSliderChange",{bubbles:!1,detail:{current:t.currentCache,length:t.getLength(),shouldLoop:t.shouldLoop()}}))},nmcSlider.prototype._setActiveClass=function(){for(var e=0;e<this.$slider.children.length;e++)this.$slider.children[e].classList.remove("active");this.$slider.children[this.getCurrent()-1].classList.add("active")},window.nmcSliderButton=function(e){var t=this;this.$button="object"==typeof e?e:document.querySelector(e),this.$button.addEventListener("click",(function(){t.dispatch(t.getTarget(),t.getAction(),t.getValue())})),this.$button.addEventListener("nmcSliderChange",(function(e){t._setStatusClass(e.detail)})),this.register(this.getTarget())},nmcSliderButton.prototype.getTarget=function(){return this.$button.dataset.nmcSliderTarget},nmcSliderButton.prototype.getAction=function(){return this.$button.dataset.nmcSliderAction.split("-")[0]},nmcSliderButton.prototype.getValue=function(){return this.$button.dataset.nmcSliderAction.split("-")[1]},nmcSliderButton.prototype.dispatch=function(e,t,n){document.querySelectorAll(e).forEach((function(e){e.dispatchEvent(new CustomEvent("nmcSliderDispatch",{bubbles:!1,detail:{action:t,value:n}}))}))},nmcSliderButton.prototype.register=function(e){var t=this;document.querySelectorAll(e).forEach((function(e){e.dispatchEvent(new CustomEvent("nmcSliderButtonRegister",{bubbles:!1,detail:{button:t.$button}}))}))},nmcSliderButton.prototype._setStatusClass=function(e){var t=this.getAction(),n=this.$button;"prev"==t&&(1!=e.current||e.shouldLoop?n.classList.remove("disabled"):n.classList.add("disabled")),"next"==t&&(e.length!=e.current||e.shouldLoop?n.classList.remove("disabled"):n.classList.add("disabled")),"jump"!=t&&"scroll"!=t&&"slide"!=t&&"advance"!=t||(e.current==this.getValue()?n.classList.add("active"):n.classList.remove("active"))},window.nmcSliderInit=function(){document.querySelectorAll("[data-nmc-slider]").forEach((function(e){new nmcSlider(e)})),document.querySelectorAll("[data-nmc-slider-target]").forEach((function(e){new nmcSliderButton(e)}))},nmcSliderInit(),function(){var e=new CustomEvent("nmcEnterViewport",{bubbles:!1}),t=new CustomEvent("nmcFirstEnterViewport",{bubbles:!0}),n=new CustomEvent("nmcLeaveViewport",{bubbles:!1});if("IntersectionObserver"in window){window.nmcViewportObserver=new IntersectionObserver((function(i,o){[].forEach.call(i,(function(i){var o;i.isIntersecting?((o=i.target).dispatchEvent(e),void 0===o.dataset.nmcHasEntered&&o.dispatchEvent(t),o.dataset.nmcHasEntered=!0):(o=i.target).dataset.nmcHasEntered&&o.dispatchEvent(n)}))}),{root:null,rootMargin:"0px",threshold:0})}else window.nmcViewportObserver={observe:function(n){n.dispatchEvent(e),n.dispatchEvent(t)}}}();var items=document.getElementsByClassName("ir-2021-block");function Swipe(e,t){"use strict";var n=function(){},i=function(e){setTimeout(e||n,0)},o=!!window.addEventListener,r="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,a=function(e){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in t)if(void 0!==e.style[t[n]])return!0;return!1}(document.createElement("swipe"));if(e){var c,s,l,u,d=e.children[0];t=t||{};var f=parseInt(t.startSlide,10)||0,h=t.speed||300;t.continuous=void 0===t.continuous||t.continuous;var v,p,m=t.auto||0,g={},b={},y={handleEvent:function(e){switch(e.type){case"touchstart":this.start(e);break;case"touchmove":this.move(e);break;case"touchend":i(this.end(e));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":i(this.transitionEnd(e));break;case"resize":i(w)}t.stopPropagation&&e.stopPropagation()},start:function(e){var t=e.touches[0];g={x:t.pageX,y:t.pageY,time:+new Date},p=void 0,b={},d.addEventListener("touchmove",this,!1),d.addEventListener("touchend",this,!1)},move:function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){t.disableScroll&&e.preventDefault();var n=e.touches[0];b={x:n.pageX-g.x,y:n.pageY-g.y},void 0===p&&(p=!!(p||Math.abs(b.x)<Math.abs(b.y))),p||(e.preventDefault(),A(),t.continuous?(L($(f-1),b.x+s[$(f-1)],0),L(f,b.x+s[f],0),L($(f+1),b.x+s[$(f+1)],0)):(b.x=b.x/(!f&&b.x>0||f==c.length-1&&b.x<0?Math.abs(b.x)/l+1:1),L(f-1,b.x+s[f-1],0),L(f,b.x+s[f],0),L(f+1,b.x+s[f+1],0)))}},end:function(e){var n=+new Date-g.time,i=Number(n)<250&&Math.abs(b.x)>20||Math.abs(b.x)>l/2,o=!f&&b.x>0||f==c.length-1&&b.x<0;t.continuous&&(o=!1);var r=b.x<0;p||(i&&!o?(r?(t.continuous?(x($(f-1),-l,0),x($(f+2),l,0)):x(f-1,-l,0),x(f,s[f]-l,h),x($(f+1),s[$(f+1)]-l,h),f=$(f+1)):(t.continuous?(x($(f+1),l,0),x($(f-2),-l,0)):x(f+1,l,0),x(f,s[f]+l,h),x($(f-1),s[$(f-1)]+l,h),f=$(f-1)),t.callback&&t.callback(f,c[f])):t.continuous?(x($(f-1),-l,h),x(f,0,h),x($(f+1),l,h)):(x(f-1,-l,h),x(f,0,h),x(f+1,l,h))),d.removeEventListener("touchmove",y,!1),d.removeEventListener("touchend",y,!1)},transitionEnd:function(e){parseInt(e.target.getAttribute("data-index"),10)==f&&(m&&C(),t.transitionEnd&&t.transitionEnd.call(e,f,c[f]))}};return w(),m&&C(),o?(r&&d.addEventListener("touchstart",y,!1),a&&(d.addEventListener("webkitTransitionEnd",y,!1),d.addEventListener("msTransitionEnd",y,!1),d.addEventListener("oTransitionEnd",y,!1),d.addEventListener("otransitionend",y,!1),d.addEventListener("transitionend",y,!1)),window.addEventListener("resize",y,!1)):window.onresize=function(){w()},{setup:function(){w()},slide:function(e,t){A(),S(e,t)},prev:function(){A(),(t.continuous||f)&&S(f-1)},next:function(){A(),E()},stop:function(){A()},getPos:function(){return f},getNumSlides:function(){return u},kill:function(){A(),d.style.width="",d.style.left="";for(var e=c.length;e--;){var t=c[e];t.style.width="",t.style.left="",a&&L(e,0,0)}o?(d.removeEventListener("touchstart",y,!1),d.removeEventListener("webkitTransitionEnd",y,!1),d.removeEventListener("msTransitionEnd",y,!1),d.removeEventListener("oTransitionEnd",y,!1),d.removeEventListener("otransitionend",y,!1),d.removeEventListener("transitionend",y,!1),window.removeEventListener("resize",y,!1)):window.onresize=null}}}function w(){c=d.children,u=c.length,c.length<2&&(t.continuous=!1),a&&t.continuous&&c.length<3&&(d.appendChild(c[0].cloneNode(!0)),d.appendChild(d.children[1].cloneNode(!0)),c=d.children),s=new Array(c.length),l=e.getBoundingClientRect().width||e.offsetWidth,d.style.width=c.length*l+"px";for(var n=c.length;n--;){var i=c[n];i.style.width=l+"px",i.setAttribute("data-index",n),a&&(i.style.left=n*-l+"px",x(n,f>n?-l:f<n?l:0,0))}t.continuous&&a&&(x($(f-1),-l,0),x($(f+1),l,0)),a||(d.style.left=f*-l+"px"),e.style.visibility="visible"}function E(){(t.continuous||f<c.length-1)&&S(f+1)}function $(e){return(c.length+e%c.length)%c.length}function S(e,n){if(f!=e){if(a){var o=Math.abs(f-e)/(f-e);if(t.continuous){var r=o;(o=-s[$(e)]/l)!==r&&(e=-o*c.length+e)}for(var u=Math.abs(f-e)-1;u--;)x($((e>f?e:f)-u-1),l*o,0);e=$(e),x(f,l*o,n||h),x(e,0,n||h),t.continuous&&x($(e-o),-l*o,0)}else e=$(e),function(e,n,i){if(!i)return void(d.style.left=n+"px");var o=+new Date,r=setInterval((function(){var a=+new Date-o;if(a>i)return d.style.left=n+"px",m&&C(),t.transitionEnd&&t.transitionEnd.call(event,f,c[f]),void clearInterval(r);d.style.left=(n-e)*(Math.floor(a/i*100)/100)+e+"px"}),4)}(f*-l,e*-l,n||h);f=e,i(t.callback&&t.callback(f,c[f]))}}function x(e,t,n){L(e,t,n),s[e]=t}function L(e,t,n){var i=c[e],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function C(){v=setTimeout(E,m)}function A(){m=0,clearTimeout(v)}}[].forEach.call(items,(function(e){nmcViewportObserver.observe(e)})),function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Prefetch=t()}(this,(function(){return(new function(){var e=this;function t(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)}function n(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function i(n){return!(n.hasAttribute("download")||!n.href||function(e){do{if(!e.hasAttribute)break;if(e.hasAttribute("data-no-prefetch"))return!0}while(e=e.parentNode);return!1}(n)||function(e){return e.href.indexOf("#")>-1&&t(e.href)===t(location.href)}(n)||function(t){for(var n=0;n<e.$exclusions.length;++n)if(t.href.indexOf(e.$exclusions[n])>-1)return!0;return!1}(n))}function o(e){var t=function(e){var t=document.createElement("link");return t.setAttribute("rel","prefetch"),t.setAttribute("href",e),t}(e);document.getElementsByTagName("head")[0].appendChild(t)}function r(t){if(t&&t.href){var n="object"==typeof t?t.href:t;e.$callback?e.$callback(n,t,o):o(n),"object"==typeof t&&t.setAttribute("data-no-prefetch","")}}function a(){e.$prefetchTimer&&(clearTimeout(e.$prefetchTimer),e.$prefetchTimer=!1)}function c(t,o){t.addEventListener(o,(function(t){if(t.target.matches("a")||n(t.target))switch(o){case"touchstart":!function(t){e.$lastTouchTimestamp=(new Date).getTime();var o=n(t.target);o&&i(o)&&r(o)}(t);break;case"mousedown":!function(t){if(!(e.$lastTouchTimestamp>(new Date).getTime()-500)){var o=n(t.target);o&&i(o)&&r(o)}}(t);break;case"mouseover":!function(t){if(!(e.$lastTouchTimestamp>(new Date).getTime()-500)){var o=n(t.target);o&&i(o)&&(o.addEventListener("mouseout",a),e.$delayBeforePrefetch?(e.$anchorToPrefetch=o,e.$prefetchTimer=setTimeout(e.prefetch,e.$delayBeforePrefetch)):r(o))}}(t)}}))}e.init=function(t){return t=t||{},e.$prefetchOnMousedown=t.waitForMousedown||!1,e.$enableTouch=t.enableTouch||!1,e.$delayBeforePrefetch=t.hoverDelay||50,e.$exclusions=t.exclusions||[],e.$callback=t.callback,t.containers=t.containers||[],e.addContainers(t.containers),e},e.prefetch=function(t){if(t=t||e.$anchorToPrefetch,e.$prefetchTimer&&(clearTimeout(e.$prefetchTimer),e.$prefetchTimer=!1),"[object Array]"===Object.prototype.toString.call(t))for(var n=0;n<t.length;++n)r(t[n]);else r(t)},e.addContainers=function(t){for(var n=0;n<t.length;++n){var i=document.querySelector(t[n]);i&&(e.$enableTouch&&c(i,"touchstart"),e.$prefetchOnMousedown?c(i,"mousedown"):c(i,"mouseover"))}},e.addExclusions=function(t){e.$exclusions=e.$exclusions.concat(t)}}).init()})),(window.jQuery||window.Zepto)&&function(e){e.fn.Swipe=function(t){return this.each((function(){e(this).data("Swipe",new Swipe(e(this)[0],t))}))}}(window.jQuery||window.Zepto),document.querySelectorAll(".accordion__item-title").forEach((function(e){var t=e.querySelector("button"),n=e.nextElementSibling;t.onclick=function(){var e="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!e),n.hidden=e}})),$((function(){$("#navtoggle").on("click",(function(){$("#nav,#social,html").toggleClass("open")})).on("close",(function(){$("#nav,#social,html").removeClass("open")})),$(".level-two-ul").on("click",(function(){$(this).toggleClass("subopen")})),$(".level-three-ul").on("click",(function(){$(this).toggleClass("subopen")})),$(".level-one-ul a").on("click",(function(){$("#navtoggle").trigger("close")}))})),function(){if(!0===window.impactReport){window.nmcHasScrolled=!1;var e=function(){var e;(e=window.scrollY>100)!=window.nmcHasScrolled&&(window.nmcHasScrolled=e,1)&&requestAnimationFrame((function(){var e=document.getElementsByTagName("html")[0];window.nmcHasScrolled?e.classList.add("scrolled"):e.classList.remove("scrolled")}))};window.addEventListener("scroll",e),e()}}(),function(){if(!0===window.impactReport){e=document.querySelector(".ir-nav_toggle"),t=document.getElementById("ir-nav"),window.outerWidth<=600?(e.removeAttribute("hidden"),t.setAttribute("aria-hidden","true"),t.querySelectorAll("a").forEach((function(e){e.setAttribute("tabindex","-1")})),e.addEventListener("click",(function(){console.log("toggle click"),"false"==t.getAttribute("aria-hidden")?(console.log("group 1"),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.querySelectorAll("a").forEach((function(e){e.setAttribute("tabindex","-1")}))):(console.log("group 2"),e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.querySelectorAll("a").forEach((function(e){e.removeAttribute("tabindex")})))}))):(t.removeAttribute("aria-hidden"),t.querySelectorAll("a").forEach((function(e){e.removeAttribute("tabindex")})))}var e,t}(),document.querySelectorAll(".ir-2021-block--footer").forEach((function(e){var t=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild};e.querySelectorAll(".footer-top-title a").forEach((function(e){e.prepend(t('<span class="left-paint"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="40" fill="none" viewBox="0 0 25 40"><path fill="#FFFFFF" d="M10.8 35.8c0 .8 1 1.5 1 1.5l.4 2.7h12.7V0c-.3 0-.7-.1-.9.3l-.3-.2c-.2.2-.4 0-.6 0h-1.6c-.1 0-.3 0-.4.2-.1.2-.3.3-.5.2l-.6.1a233.5 233.5 0 0 1-6.9.6c-.5 0-1 .3-1.6.2-.2 0-.4 0-.5.3l-.2.3-1 .2c-.4 0-.8-.3-1.2-.1h-.2c-.6-.3-1.2-.2-1.8-.2-.5 0-.8.5-.8 1.2v3.2c0 .5.2.9.3 1.3.2.4.5.7.8.7v.2l-.6.2c-.5.3-1 .2-1.5.1l-1.3-.2c-.2 0-.5 0-.6.3a3 3 0 0 0-.1 1.1v1.7c0 .5-.1.7-.4.7H2L1 12H.8c-.2.4-.5.7-.4 1.2 0 .4-.1.9.1 1.3v.2l.2 1.1c0 .5 0 1-.3 1.3a2 2 0 0 0-.4 1.5c.3 1.5 0 3.3.5 4.6 0 .2.2.3.3.5 1 .4 1.8.2 2.8 0v1.4l.2 1.9.2 2c0 .9.5 1.5 1.2 1.4l2.6-.5H8l.2 2c0 .4.1.7.4.9.4.2.7.5 1.1.5h.5c.2 0 .3.2.4.5v1.9Z"/></svg></span>')),e.append(t('<span class="right-paint"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="40" fill="none" viewBox="0 0 16 40"><path fill="#FFFFFF" d="M7.3 34.3c.9-.2 2.6-.2 2.6-.2s.8-1.5-.8-2.4h-.3c.3-.9.6-1.8.7-2.8.1-.5.1-.5.4-.5.3 0 .5-.1.6-.4.5-1.1.6-3 1-3.9v-.9c.2-.5.1-1 0-1.4-.3-.4-.3-.8-.3-1.3l.3-1.4c.1-.5.3-.7.7-.7l1.5.4c.4.1.7 0 .9-.5l.1-.4.2-.6c.3-.9.3-2 .7-2.8v-1.4c.1-.2-.3-1.3-.4-1.4a1 1 0 0 0-.7-.4H14c-.2 0-.2-.2-.2-.4V7.6c0-.4-.4-1-.7-1l-1.2-.1h-.3l-.7-.2c-.4 0-.8 0-1.2-.2v-.5c.2-1.3.2-2.5 0-3.7-.1-.5-.3-.8-.7-.8L8.2 1c-.5 0-1 0-1.5-.2L6 .7 5 .5 0 0v40l2.2-1.5 1-.5c.5-.9 1.1-.6 3-1v-1.9c.4 0 .8-.2 1.2-.4l-.1-.4Z"/></svg></span>'))}))})),$((function(){$(".iconset").first().addClass("active"),$(".map-filters .filter").first().addClass("active"),$(".map-filters .filter").on("click",(function(e){e.preventDefault(),$(".map-filters .filter, .iconset").removeClass("active"),$(this).addClass("active"),$($(this).attr("href")).addClass("active")}));var e=function(e){e&&($("html").addClass("popup-overlay-open"),$("body").append('<div id="popup-overlay"><div id="popup-content"></div></div>'),$(document).on("keyup.search",(function(e){27==e.keyCode&&t()})),$("#popup-overlay").on("click",(function(){t()})),n(e))},t=function(){$("html").removeClass("popup-overlay-open"),$("#popup-overlay").remove(),$(document).unbind("keyup.search")},n=function(e){$("#popup-content").load(e+" #map-popup")};$(".pin path").on("click",(function(){console.log("clicked");var t=$(this).closest(".pin");e(t.data("href"))}))})),function(){var e=".nmc-carousel",t=function(e,n){var i=e.querySelectorAll(".carousel-scroller")[0],o=e.querySelectorAll(".image-row-item");if(n<1)t(e,o.length-2);else if(n>=o.length-1)t(e,1);else{o.forEach((function(e){e.classList.remove("active")}));var r=o[n];r.classList.add("active"),e.dataset.slide=n;var a=r.getBoundingClientRect().left-Math.round(window.innerWidth/2-r.offsetWidth/2);i.scroll({left:i.scrollLeft+a,behavior:"smooth"})}},n=document.querySelectorAll(e),i=new CustomEvent("carouselNext",{bubbles:!1}),o=new CustomEvent("carouselPrev",{bubbles:!1});n.forEach((function(e){t(e,1),e.addEventListener("carouselNext",(function(n){t(e,Number(e.dataset.slide)+1)})),e.addEventListener("carouselPrev",(function(n){t(e,Number(e.dataset.slide)-1)}))})),document.querySelectorAll(".carousel-nav_next").forEach((function(t){t.addEventListener("click",(function(){t.closest(e).dispatchEvent(i)}))})),document.querySelectorAll(".carousel-nav_prev").forEach((function(t){t.addEventListener("click",(function(){t.closest(e).dispatchEvent(o)}))}))}(),$((function(){preloadSupport=function(){try{return document.createElement("link").relList.supports("preload")}catch(e){return!1}},preloadSupport()?(console.log("preload support"),Prefetch.init({containers:["body"]})):console.log("no support")})),$((function(){$("head").append('<link rel="prefetch" href="/search/">');var e=function(){$("html").removeClass("popup-overlay-open"),$("#popup-overlay").remove(),$(document).unbind("keyup.search")},t=function(){$("html").hasClass("popup-overlay-open")?e():($("html").addClass("popup-overlay-open"),$("body").append('<div id="popup-overlay"><div id="popup-content"></div></div>'),$(document).on("keyup.search",(function(t){27==t.keyCode&&e()})),$("#popup-overlay").on("click",(function(){e()})),n())},n=function(e){var t="";e&&(t="?q="+encodeURI(e)),$("#popup-content").load("/search/"+t+" #search-page",i)},i=function(){var e,t,i,o,r=$('input[name="q"]').last();0==r.val().length&&r.focus(),r.on("input",(e=function(){r.val().length>=3&&$("head").append('<link rel="prefetch" href="/search/?q='+encodeURI(r.val())+'">')},t=250,function(){var n=this,r=arguments,a=function(){o=null,i||e.apply(n,r)},c=i&&!o;clearTimeout(o),o=setTimeout(a,t),c&&e.apply(n,r)})),$(".searchform").submit((function(e){e.preventDefault();var t=r.val();n(t)})),$(".searchform,.block a").on("click",(function(e){e.stopPropagation()}))};$(".searchtoggle").on("click",(function(e){$(window).width()>760&&(e.preventDefault(),t())}))})),$((function(){$(".swipe").each((function(){var e=$(this);e.find(".swipe-wrap>div").eq(0).addClass("active"),e.find(".direct a").eq(0).addClass("active");var t=e.data("auto")?e.data("auto"):8e3,n=new Swipe(e[0],{startSlide:0,speed:400,auto:t,continuous:!0,disableScroll:!1,stopPropagation:!1,callback:function(t,n){e.removeClass("inactive"),e.find(".active").addClass("outgoing").removeClass("active"),e.find(".slide").eq(t).addClass("incoming"),e.find(".direct a").eq(t).addClass("incoming active")},transitionEnd:function(t,n){e.find(".incoming").addClass("active").removeClass("incoming"),e.find(".outgoing").removeClass("outgoing")}});e.data("swipe",n),e.find(".next").click((function(){n.next()})),e.find(".prev").click((function(){n.prev()})),e.find(".direct a").click((function(){n.slide($(this).data("slide")-1)}))}))})),function(){var e=document.getElementsByClassName("ir-2021-block--stats");[].forEach.call(e,(function(e){e.addEventListener("nmcFirstEnterViewport",(function(e){e.target.querySelectorAll(".stat__number-numeral").forEach((function(e){e.innerHTML=0;var t=Number(e.dataset.numeral),n=String(t),i=1,o=0;if(-1!==n.indexOf("."))i=10**(o=n.split(".")[1].length);if((t*=i)<10)var r=200,a=t;else if(t<99)r=100,a=10;else r=20,a=100;var c=Math.round(t/a),s=setInterval((function(){var n=Number(e.innerHTML.replaceAll(",",""))*i+c;n>=t&&(n=t,clearInterval(s)),n/=i,e.innerHTML=n.toLocaleString(void 0,{minimumFractionDigits:o})}),r)}))}))}))}(),$((function(){$('.filterbutton[href^="#"]').on("click",(function(e){e.preventDefault();var t=$(this);return t.hasClass("active")?$(".filterbutton,.filterset").removeClass("active"):($(".filterbutton,.filterset").removeClass("active"),t.addClass("active"),$(t.attr("href")).addClass("active")),!1}))})),document.querySelectorAll(".tabs").forEach((function(e){var n,o,r=e.querySelectorAll('[role="tablist"]')[0],a=function(){var e=r.hasAttribute("data-delay"),t=0;if(e){var n=r.getAttribute("data-delay");t=n||300}return t}();function c(){n=e.querySelectorAll('[role="tab"]'),o=e.querySelectorAll('[role="tabpanel"]')}c();var s,l=35,u=36,d=37,f=38,h=39,v=40,m=46,g={37:-1,38:-1,39:1,40:1};for(i=0;i<n.length;++i)s=i,n[s].addEventListener("click",b),n[s].addEventListener("keydown",y),n[s].addEventListener("keyup",w),n[s].index=s;function b(e){$(e.target,!1)}function y(e){switch(e.keyCode){case l:e.preventDefault(),$(n[n.length-1]);break;case u:e.preventDefault(),$(n[0]);break;case f:case v:E(e)}}function w(e){switch(e.keyCode){case d:case h:E(e);break;case m:!function(e){target=e.target,null!==target.getAttribute("data-deletable")&&(function(e){var t=e.target,n=document.getElementById(t.getAttribute("aria-controls"));t.parentElement.removeChild(t),n.parentElement.removeChild(n)}(e,target),c(),target.index-1<0?$(n[0]):$(n[target.index-1]))}(e)}}function E(e){var t=e.keyCode,i=!1;"vertical"==r.getAttribute("aria-orientation")?t!==f&&t!==v||(e.preventDefault(),i=!0):t!==d&&t!==h||(i=!0),i&&function(e){var t=e.keyCode;for(x=0;x<n.length;x++)n[x].addEventListener("focus",S);if(g[t]){var i=e.target;void 0!==i.index&&(n[i.index+g[t]]?n[i.index+g[t]].focus():t===d||t===f?n[n.length-1].focus():t!==h&&t!=v||n[0].focus())}}(e)}function $(e,i){i=i||!0,function(){for(t=0;t<n.length;t++)n[t].setAttribute("tabindex","-1"),n[t].setAttribute("aria-selected","false"),n[t].removeEventListener("focus",S);for(p=0;p<o.length;p++)o[p].hidden=!0}(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true");var r=e.getAttribute("aria-controls");document.getElementById(r).hidden=!1,i&&e.focus()}function S(e){var t=e.target;setTimeout(L,a,t)}function L(t){focused=e.activeElement,t===focused&&$(t,!1)}})),document.querySelectorAll("[data-video-id]").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();for(var n=e.parentNode,i=e.dataset.videoId,o=e.dataset.videoSource;n.firstChild;)n.removeChild(n.firstChild);switch(o){case"youtube":n.innerHTML='<div id="video-'+i+'"></div>';var r=document.createElement("script");r.id="yt-api",r.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);var c=setInterval((function(){YT.loaded&&(clearInterval(c),new YT.Player("video-"+i,{videoId:i,events:{onReady:function(e){e.target.playVideo()}}}))}),50);break;case"vimeo":n.innerHTML='<iframe src="https://player.vimeo.com/video/'+i+'?autoplay=1&title=0&byline=0&portrait=0" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>'}}))}));